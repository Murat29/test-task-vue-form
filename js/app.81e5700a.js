(function(e){function t(t){for(var a,o,l=t[0],i=t[1],c=t[2],u=0,d=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,l=1;l<r.length;l++){var i=r[l];0!==n[i]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/test-task-vue-form/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var p=i;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("1dce"),s=r.n(n),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"app"},[r("Form")],1)])},l=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"form",attrs:{novalidate:""}},[r("h1",{staticClass:"form__title"},[e._v(" Регистрация ")]),r("div",{staticClass:"form__promotion"},e._l(e.arrayFieldset,(function(t,a){return r("div",{key:t,class:{form__dot:!0,form__dot__finish:e.actileFieldset>a,form__dot__active:e.actileFieldset===a}})})),0),r("fieldset",{directives:[{name:"show",rawName:"v-show",value:0===e.actileFieldset,expression:"actileFieldset === 0"}],staticClass:"form__fieldset"},[r("legend",{staticClass:"form__legend"},[e._v(" Личные данные ")]),r("Input",{attrs:{value:e.clientData.personalData.surname,placeholder:"Фамилия","is-error":e.$v.clientData.personalData.surname.$error,"error-message":e.errorMessage.personalData.surname,type:"text","group-name":"personalData",name:"surname",maxlength:"30","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.personalData.name,placeholder:"Имя","is-error":e.$v.clientData.personalData.name.$error,"error-message":e.errorMessage.personalData.name,type:"text","group-name":"personalData",name:"name",maxlength:"30","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.personalData.patronymic,placeholder:"Отчество","is-error":e.$v.clientData.personalData.patronymic.$error,"error-message":e.errorMessage.personalData.patronymic,type:"text","group-name":"personalData",name:"patronymic",maxlength:"30","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.personalData.dateOfBirth,placeholder:"Дата рождения","is-error":e.$v.clientData.personalData.dateOfBirth.$error,"error-message":e.errorMessage.personalData.dateOfBirth,type:"date","group-name":"personalData",name:"dateOfBirth","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.personalData.tel,placeholder:"Номер телефона","is-error":e.$v.clientData.personalData.tel.$error,"error-message":e.errorMessage.personalData.tel,tel:!0,type:"tel","group-name":"personalData",name:"tel",maxlength:"10","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.personalData.gender,placeholder:"Пол","is-error":e.$v.clientData.personalData.gender.$error,"error-message":e.errorMessage.personalData.gender,type:"text","group-name":"personalData",name:"gender",maxlength:"15","handle-change":e.handleInputChange}}),r("InputContainer",{attrs:{placeholder:"Группа клиентов","is-error":e.$v.clientData.personalData.clientGroup.$error,"error-message":e.constErrorMessage.required}},[r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.clientData.personalData.clientGroup.$model,expression:"$v.clientData.personalData.clientGroup.$model",modifiers:{trim:!0}}],class:{form__select:!0,form__select_type_multiple:!0,form__select_error:e.$v.clientData.personalData.clientGroup.$error},attrs:{multiple:"",name:"clientGroup"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$v.clientData.personalData.clientGroup,"$model",t.target.multiple?r:r[0])}}},[r("option",[e._v("VIP")]),r("option",[e._v("Проблемные")]),r("option",[e._v("ОМС")])])]),r("InputContainer",{attrs:{placeholder:"Лечащий врач"}},[r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.clientData.personalData.doctor.$model,expression:"$v.clientData.personalData.doctor.$model",modifiers:{trim:!0}}],class:{form__select:!0,form__select_error:e.$v.clientData.personalData.doctor.$error},attrs:{name:"doctor"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$v.clientData.personalData.doctor,"$model",t.target.multiple?r:r[0])}}},[r("option",[e._v("Иванов")]),r("option",[e._v("Захаров")]),r("option",[e._v("Чернышева")])])]),r("label",{staticClass:"form__checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.clientData.personalData.notSendSms,expression:"clientData.personalData.notSendSms",modifiers:{trim:!0}}],staticClass:"form__invisible-checkbox",attrs:{type:"checkbox","group-name":"personalData",name:"notSendSms"},domProps:{checked:Array.isArray(e.clientData.personalData.notSendSms)?e._i(e.clientData.personalData.notSendSms,null)>-1:e.clientData.personalData.notSendSms},on:{change:function(t){var r=e.clientData.personalData.notSendSms,a=t.target,n=!!a.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);a.checked?o<0&&e.$set(e.clientData.personalData,"notSendSms",r.concat([s])):o>-1&&e.$set(e.clientData.personalData,"notSendSms",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.clientData.personalData,"notSendSms",n)}}}),r("span",{staticClass:"form__visible-checkbox"}),r("p",{staticClass:"form__text"},[e._v("Не отправлять СМС")])])],1),r("fieldset",{directives:[{name:"show",rawName:"v-show",value:1===e.actileFieldset,expression:"actileFieldset === 1"}],staticClass:"form__fieldset"},[r("legend",{staticClass:"form__legend"},[e._v(" Адрес ")]),r("Input",{attrs:{value:e.clientData.address.index,placeholder:"Индекс","is-error":e.$v.clientData.address.index.$error,"error-message":e.errorMessage.address.index,type:"text","group-name":"address",name:"index",maxlength:"15","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.address.country,placeholder:"Страна","is-error":e.$v.clientData.address.country.$error,"error-message":e.errorMessage.address.country,type:"text","group-name":"address",name:"country",maxlength:"20","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.address.region,placeholder:"Область","is-error":e.$v.clientData.address.region.$error,"error-message":e.errorMessage.address.region,type:"text","group-name":"address",name:"region",maxlength:"20","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.address.city,placeholder:"Город","is-error":e.$v.clientData.address.city.$error,"error-message":e.errorMessage.address.city,type:"text","group-name":"address",name:"city",maxlength:"20","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.address.street,placeholder:"Улица","is-error":e.$v.clientData.address.street.$error,"error-message":e.errorMessage.address.street,type:"text","group-name":"address",name:"street",maxlength:"20","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.address.house,placeholder:"Дом","is-error":e.$v.clientData.address.house.$error,"error-message":e.errorMessage.address.house,type:"text","group-name":"address",name:"house",maxlength:"20","handle-change":e.handleInputChange}})],1),r("fieldset",{directives:[{name:"show",rawName:"v-show",value:2===e.actileFieldset,expression:"actileFieldset === 2"}],staticClass:"form__fieldset"},[r("legend",{staticClass:"form__legend"},[e._v(" Паспорт ")]),r("InputContainer",{attrs:{placeholder:"Тип документа","is-error":e.$v.clientData.passport.documentType.$error,"error-message":e.constErrorMessage.required}},[r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.clientData.passport.documentType.$model,expression:"$v.clientData.passport.documentType.$model",modifiers:{trim:!0}}],class:{form__select:!0,form__select_error:e.$v.clientData.passport.documentType.$error},attrs:{name:"documentType"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$v.clientData.passport.documentType,"$model",t.target.multiple?r:r[0])}}},[r("option",[e._v("Паспорт")]),r("option",[e._v("Свидетельство о рождении")]),r("option",[e._v("Вод. удостоверение")])])]),r("Input",{attrs:{value:e.clientData.passport.series,placeholder:"Серия","is-error":e.$v.clientData.passport.series.$error,"error-message":e.errorMessage.passport.series,type:"text","group-name":"passport",name:"series",maxlength:"4","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.passport.number,placeholder:"Номер","is-error":e.$v.clientData.passport.number.$error,"error-message":e.errorMessage.passport.number,type:"text","group-name":"passport",name:"number",maxlength:"6","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.passport.issuedBy,placeholder:"Кем выдан","is-error":e.$v.clientData.passport.issuedBy.$error,"error-message":e.errorMessage.passport.issuedBy,type:"text","group-name":"passport",name:"issuedBy",maxlength:"40","handle-change":e.handleInputChange}}),r("Input",{attrs:{value:e.clientData.passport.dateOfIssue,placeholder:"Дата выдачи","is-error":e.$v.clientData.passport.dateOfIssue.$error,"error-message":e.errorMessage.passport.dateOfIssue,type:"date","group-name":"passport",name:"dateOfIssue","handle-change":e.handleInputChange}})],1),r("button",{staticClass:"form__submit",on:{click:e.submit}},[e._v(" "+e._s(e.actileFieldset===e.arrayFieldset.length-1?"Создать нового клиента":"Далее")+" ")]),r("p",{directives:[{name:"show",rawName:"v-show",value:e.isFormSent,expression:"isFormSent"}],staticClass:"form__text"},[e._v(" Новый клиент успешно создан ")])])},c=[],p=(r("b0c0"),r("b5ae")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"form__input-container":!0,"form__input-container_type_tel":e.tel}},[r("p",{staticClass:"form__input-placeholder"},[e._v(" "+e._s(e.placeholder)+" ")]),e._t("default"),r("p",{staticClass:"form__input-error"},[e._v(" "+e._s(e.isError?e.errorMessage||"Поле, обязательное для заполнения":"")+" ")])],2)},d=[],m={name:"InputContainer",props:{placeholder:{type:String,default:"Поле"},isError:{type:Boolean,default:!1},errorMessage:{type:String,default:"Поле, обязательное для заполнения"},tel:{type:Boolean,default:!1}}},h=m,g=(r("e2c1"),r("2877")),f=Object(g["a"])(h,u,d,!1,null,"258f75d8",null),v=f.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("InputContainer",{attrs:{placeholder:e.placeholder,"is-error":e.isError,"error-message":e.errorMessage,tel:e.tel}},[r("input",{class:{form__input:!0,form__input_error:e.isError,form__input_type_tel:e.tel},attrs:{type:e.type,name:e.name,maxlength:e.maxlength},domProps:{value:e.value},on:{input:function(t){return e.handleChange(t,e.groupName)}}})])},D=[],y={name:"Input",components:{InputContainer:v},props:{placeholder:{type:String,default:"Поле"},isError:{type:Boolean,default:!1},errorMessage:{type:String,default:""},tel:{type:Boolean,default:!1},type:{type:String,default:"text"},name:{type:String,default:""},groupName:{type:String,default:""},maxlength:{type:String,default:"30"},handleChange:{type:Function,default:function(){}},value:{type:String,default:""}}},$=y,x=(r("8a0d"),Object(g["a"])($,_,D,!1,null,"0f35088d",null)),b=x.exports,I={name:"Form",components:{InputContainer:v,Input:b},data:function(){return{arrayFieldset:["personalData","address","passport"],actileFieldset:0,isFormSent:!1,clientData:{personalData:{surname:null,name:null,patronymic:null,dateOfBirth:null,tel:null,gender:null,clientGroup:[],doctor:null,notSendSms:!1},address:{index:null,country:null,region:null,city:null,street:null,house:null},passport:{documentType:null,series:null,number:null,issuedBy:null,dateOfIssue:null}},errorMessage:{personalData:{},address:{},passport:{}},constErrorMessage:{required:"Поле, обязательное для заполнения"}}},validations:{clientData:{personalData:{surname:{required:p["required"],minLength:Object(p["minLength"])(2)},name:{required:p["required"],minLength:Object(p["minLength"])(2)},patronymic:{minLength:Object(p["minLength"])(2)},dateOfBirth:{required:p["required"]},tel:{required:p["required"],numeric:p["numeric"],minLength:Object(p["minLength"])(10)},gender:{},clientGroup:{required:p["required"]},doctor:{}},address:{index:{numeric:p["numeric"]},country:{},region:{},city:{required:p["required"]},street:{},house:{}},passport:{documentType:{required:p["required"]},series:{numeric:p["numeric"]},number:{numeric:p["numeric"]},issuedBy:{},dateOfIssue:{required:p["required"]}}}},methods:{submit:function(e){e.preventDefault();var t=this.$v.clientData[this.arrayFieldset[this.actileFieldset]];t.$touch(),t.$invalid||(this.actileFieldset<this.arrayFieldset.length-1?this.actileFieldset++:(this.isFormSent=!0,this.clientData.personalData.tel="7"+this.clientData.personalData.tel))},handleInputChange:function(e,t){var r=e.target.name;this.clientData[t][r]=e.target.value,this.$v.clientData[t][r].$touch(),this.errorMessage[t][r]=this.getErrorMessage(t,r)},getErrorMessage:function(e,t){var r=this.$v.clientData[e][t];return r.$error?void 0===r.required||r.required?void 0===r.numeric||r.numeric?void 0===r.minLength||r.minLength?"Не допустимое значение":"Поле должно содержать не менее ".concat(r.$params.minLength.min," символов"):"Поле должно содержать только цифры":this.constErrorMessage.required:""}}},C=I,S=(r("7544"),Object(g["a"])(C,i,c,!1,null,"f2de1bd4",null)),M=S.exports,O={name:"App",components:{Form:M}},w=O,F=(r("595b"),r("e268"),Object(g["a"])(w,o,l,!1,null,null,null)),q=F.exports;a["a"].use(s.a),a["a"].config.productionTip=!1,a["a"].config.devtools=!0,new a["a"]({render:function(e){return e(q)}}).$mount("#app")},"595b":function(e,t,r){"use strict";r("ef01")},"6a05":function(e,t,r){},"6b53":function(e,t,r){},7544:function(e,t,r){"use strict";r("6b53")},"8a0d":function(e,t,r){"use strict";r("e0d4")},e0d4:function(e,t,r){},e268:function(e,t,r){"use strict";r("ec40")},e2c1:function(e,t,r){"use strict";r("6a05")},ec40:function(e,t,r){},ef01:function(e,t,r){}});
//# sourceMappingURL=app.81e5700a.js.map